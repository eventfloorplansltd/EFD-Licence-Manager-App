<?phpinclude 'database_connection.php';check_login(); // <-- NEW: Security Checkif (empty($input['id'])) {    send_error('User ID is required.');}$userId = (int)$input['id'];// Use a transaction to ensure both user and addons are deleted$conn->begin_transaction();try {    // 1. Delete addon assignments (User-Addon link)    // This is handled automatically by the 'ON DELETE CASCADE' in the SQL schema    // $conn->query("DELETE FROM user_addons WHERE userId = $userId");        // 2. Delete the user (which also deletes their license)    $stmt = $conn->prepare("DELETE FROM users WHERE id = ?");    $stmt->bind_param("i", $userId);    $stmt->execute();        // Commit the transaction    $conn->commit();    send_json(['success' => true, 'id' => $userId]);    } catch (mysqli_sql_exception $exception) {    $conn->rollback();    send_error('Error removing user: ' . $exception->getMessage(), 500);}$conn->close();?>